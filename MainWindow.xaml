<Window x:Class="QuanLyBanHang.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:QuanLyBanHang.Converters"
        xmlns:vm="clr-namespace:QuanLyBanHang.ViewModels"
        mc:Ignorable="d"
        Title="Quáº£n lÃ½ bÃ¡n hÃ ng" Height="720" Width="1280">
    <!-- âœ… Gáº¯n ViewModel -->


    <!-- âœ… Äá»‹nh nghÄ©a Resource -->
    <Window.Resources>
        <Style x:Key="MenuButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="Transparent"/>
            
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="FontSize" Value="16"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="Padding" Value="10"/>
            <Setter Property="Margin" Value="10 5"/>
            <Setter Property="HorizontalAlignment" Value="Stretch"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="TextBlock.TextWrapping" Value="Wrap"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}" CornerRadius="6">
                            <ContentPresenter 
                                HorizontalAlignment="Left" 
                                VerticalAlignment="Center" 
                                Margin="10 0"
                                RecognizesAccessKey="True"
                                Content="{TemplateBinding Content}">
                                <ContentPresenter.ContentTemplate>
                                    <DataTemplate>
                                        <TextBlock Text="{Binding}" 
                                                   TextWrapping="Wrap" 
                                                   TextTrimming="CharacterEllipsis"
                                                   FontSize="14"
                                                   Width="220"/>
                                    </DataTemplate>
                                </ContentPresenter.ContentTemplate>
                            </ContentPresenter>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background" Value="#2ecc71"/>
                    <Setter Property="Foreground" Value="White"/>
                </Trigger>
            </Style.Triggers>
        </Style>

        <!-- Giá»¯ láº¡i cÃ¡c converter -->
        <local:BooleanToVisibilityConverter x:Key="BooleanToVisibilityConverter"/>
        <local:BooleanToActiveStatusConverter x:Key="BooleanToActiveStatusConverter"/>
    </Window.Resources>

    <!-- âœ… Giao diá»‡n chÃ­nh -->
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="300" />
            <ColumnDefinition Width="*" />
        </Grid.ColumnDefinitions>

        <!-- âœ… Sidebar -->
        <ScrollViewer Grid.Column="0" VerticalScrollBarVisibility="Auto">
            <StackPanel Background="#2c3e50" Width="300" RenderTransformOrigin="0.754,0.5">
                <TextBlock Text="ðŸ“‹ MENU" Foreground="White" FontSize="22" FontWeight="Bold" Margin="20 30 0 20" />
                <Separator Margin="10" Background="White" Height="1"/>

                <!-- âš  Gáº¯n Command cho cÃ¡c nÃºt -->
                <Button Content="ðŸ‘¤ Quáº£n lÃ½ ngÆ°á»i dÃ¹ng" Style="{StaticResource MenuButtonStyle}"
                        Command="{Binding ShowUserManagementCommand}" />

                <!-- ðŸ“¦ Quáº£n lÃ½ sáº£n pháº©m -->
                <StackPanel>
                    <!-- NÃºt chÃ­nh -->
                    <Button Content="ðŸ“¦ Quáº£n lÃ½ sáº£n pháº©m" Style="{StaticResource MenuButtonStyle}" Click="ToggleProductMenu_Click"/>

                    <!-- Menu con: áº©n hiá»‡n theo biáº¿n isProductMenuVisible -->
                    <StackPanel x:Name="ProductSubMenu" Visibility="Collapsed" Margin="25 0 0 0">
                        <Button Content="ðŸ“‹Xem danh sÃ¡ch sáº£n pháº©m" Style="{StaticResource MenuButtonStyle}" FontSize="14"
                                Command="{Binding ShowProductListCommand}"/>
                        <Button Content="âž•ThÃªm sáº£n pháº©m" Style="{StaticResource MenuButtonStyle}" FontSize="14"
                                Command="{Binding AddProductCommand}"/>
                        
                        <Button Content=" ðŸ“œDanh sÃ¡ch nhÃ  sáº£n xuáº¥t" Style ="{StaticResource MenuButtonStyle}" FontSize="14"
                                Command="{Binding ShowManufacturerListCommand}" Margin="5"/>

                        <Button Content="ðŸ”„ThÃªm nhÃ  sáº£n xuáº¥t" Style="{StaticResource MenuButtonStyle}" FontSize="14"
                                Command="{Binding OpenManufacturerFormCommand}"/>
                        <Button Content="ðŸ—‚ï¸Quáº£n lÃ½ loáº¡i sáº£n pháº©m" Style="{StaticResource MenuButtonStyle}" FontSize="14"/>
                        <Button Content="ðŸ”TÃ¬m kiáº¿m sáº£n pháº©m" Style="{StaticResource MenuButtonStyle}" FontSize="14"/>
                    </StackPanel>
                </StackPanel>

                <!-- âž• Quáº£n lÃ½ nháº­p hÃ ng + menu con -->
                <StackPanel>
                    <!-- NÃºt chÃ­nh -->
                    <Button Content="âž• Quáº£n lÃ½ nháº­p hÃ ng"
                            Style="{StaticResource MenuButtonStyle}"
                            Click="ToggleImportMenu_Click"/>

                    <!-- Menu con: máº·c Ä‘á»‹nh áº©n -->
                    <StackPanel x:Name="ImportSubMenu" Visibility="Collapsed" Margin="25 0 0 0">
                        <Button Content="ðŸ“¦Xem danh sÃ¡ch hÃ ng hÃ³a" Style="{StaticResource MenuButtonStyle}" FontSize="14"/>
                        <Button Content="âž•ThÃªm hÃ ng hÃ³a" Style="{StaticResource MenuButtonStyle}" FontSize="14"/>
                        <Button Content="ðŸ­Danh sÃ¡ch nhÃ  sáº£n xuáº¥t" Style="{StaticResource MenuButtonStyle}" FontSize="14"/>
                        <Button Content="ðŸ—‚ï¸Danh má»¥c hÃ ng hÃ³a" Style="{StaticResource MenuButtonStyle}" FontSize="14"/>
                    </StackPanel>
                </StackPanel>

                <!-- ðŸ›’ Quáº£n lÃ½ bÃ¡n hÃ ng + menu con -->
                <StackPanel>
                    <!-- NÃºt chÃ­nh -->
                    <Button Content="ðŸ›’ Quáº£n lÃ½ bÃ¡n hÃ ng"
                            Style="{StaticResource MenuButtonStyle}"
                            Click="ToggleSellMenu_Click" />

                    <!-- Menu con: máº·c Ä‘á»‹nh áº©n -->
                    <StackPanel x:Name="SellSubMenu" Visibility="Collapsed" Margin="25 0 0 0">
                        <Button Content="ðŸ“„Xem danh sÃ¡ch bÃ¡n hÃ ng" Style="{StaticResource MenuButtonStyle}" FontSize="14"/>
                        <Button Content="âž•ThÃªm bÃ¡n hÃ ng" Style="{StaticResource MenuButtonStyle}" FontSize="14"/>
                        <Button Content="ðŸ“ÄÆ¡n Ä‘áº·t" Style="{StaticResource MenuButtonStyle}" FontSize="14"/>
                        <Button Content="ðŸ‘¥Danh sÃ¡ch khÃ¡ch hÃ ng" Style="{StaticResource MenuButtonStyle}" FontSize="14"/>
                        <Button Content="ðŸššDanh sÃ¡ch nhÃ  váº­n chuyá»ƒn" Style="{StaticResource MenuButtonStyle}" FontSize="14"/>
                    </StackPanel>
                </StackPanel>

                <!-- ðŸ“¦ Quáº£n lÃ½ kho + menu con -->
                <StackPanel>
                    <!-- NÃºt chÃ­nh -->
                    <Button Content="ðŸ“¦ Quáº£n lÃ½ kho"
                            Style="{StaticResource MenuButtonStyle}"
                            Click="ToggleWarehouseMenu_Click" />

                    <!-- Menu con: máº·c Ä‘á»‹nh áº©n -->
                    <StackPanel x:Name="WarehouseSubMenu" Visibility="Collapsed" Margin="25 0 0 0">
                        <Button Content="ðŸ“¥Xem danh sÃ¡ch nháº­p kho" Style="{StaticResource MenuButtonStyle}" FontSize="14" Command="{Binding ShowImportListCommand}" />
                        <Button Content="âž•ðŸ“¦Nháº­p kho" Style="{StaticResource MenuButtonStyle}" FontSize="14" Command="{Binding ShowImportCreateCommand}" />
                        <Button Content="âš™ï¸ðŸ“¦ Xem danh sÃ¡ch táº¡o thÃ nh sáº£n pháº©m"  Style="{StaticResource MenuButtonStyle}" FontSize="14" 
                                Command="{Binding ShowDanhmuctaothanhsanphamCommand}" />
                        <Button Content="ðŸ“ŠTá»“n kho" Style="{StaticResource MenuButtonStyle}" FontSize="14"/>
                        <Button Content="âœ…ðŸ“¦Kiá»ƒm kho" Style="{StaticResource MenuButtonStyle}" FontSize="14"/>
                        <Button Content="ðŸ”Chuyá»ƒn kho" Style="{StaticResource MenuButtonStyle}" FontSize="14"/>
                        <Button Content="ðŸ”§ðŸ“¦Chuyá»ƒn kho báº£o hÃ nh" Style="{StaticResource MenuButtonStyle}" FontSize="14"/>
                        <Button Content="ðŸ› ï¸ðŸ“¦Chuyá»ƒn kho sá»­ dá»¥ng" Style="{StaticResource MenuButtonStyle}" FontSize="14"/>
                        <Button Content="âŒðŸ“¦Chuyá»ƒn kho há»§y" Style="{StaticResource MenuButtonStyle}" FontSize="14"/>
                        <Button Content="ðŸ­ðŸ“‡Danh sÃ¡ch nhÃ  cung cáº¥p" Style="{StaticResource MenuButtonStyle}" FontSize="14"/>
                        <Button Content="ðŸ¢Danh sÃ¡ch kho" Style="{StaticResource MenuButtonStyle}" FontSize="14"/>
                        <Button Content="âž•ðŸ¢ThÃªm kho" Style="{StaticResource MenuButtonStyle}" FontSize="14"/>
                        <Button Content="ðŸ“ˆðŸ“¦Tá»“n kho Ä‘áº§u ká»³" Style="{StaticResource MenuButtonStyle}" FontSize="14"/>
                        <Button Content="ðŸ—‘ï¸ðŸ“¦Danh sÃ¡ch kho há»§y" Style="{StaticResource MenuButtonStyle}" FontSize="14"/>
                    </StackPanel>
                </StackPanel>

                <!-- ðŸ’° Quáº£n lÃ½ quá»¹ + menu con -->
                <StackPanel>
                    <!-- NÃºt chÃ­nh -->
                    <Button Content="ðŸ’° Quáº£n lÃ½ quá»¹"
                            Style="{StaticResource MenuButtonStyle}"
                            Click="ToggleFundMenu_Click" />

                    <!-- Menu con: máº·c Ä‘á»‹nh áº©n -->
                    <StackPanel x:Name="FundSubMenu" Visibility="Collapsed" Margin="25 0 0 0">
                        <Button Content="ðŸ§¾Danh sÃ¡ch tÃ i khoáº£n" Style="{StaticResource MenuButtonStyle}" FontSize="14"/>
                        <Button Content="âž•ðŸ’³ThÃªm tÃ i khoáº£n má»›i" Style="{StaticResource MenuButtonStyle}" FontSize="14"/>
                        <Button Content="ðŸ’µNháº­p quá»¹ Ä‘áº§u ká»³" Style="{StaticResource MenuButtonStyle}" FontSize="14"/>
                        <Button Content="ðŸ”Danh sÃ¡ch giao dá»‹ch tÃ i khoáº£n" Style="{StaticResource MenuButtonStyle}" FontSize="14"/>
                        <Button Content="ðŸ·ï¸Loáº¡i thu chi" Style="{StaticResource MenuButtonStyle}" FontSize="14"/>
                        <Button Content="ðŸ§¾Danh sÃ¡ch phiáº¿u thu chi" Style="{StaticResource MenuButtonStyle}" FontSize="14"/>
                        <Button Content="ðŸ“¤Danh sÃ¡ch giao dá»‹ch nháº­p xuáº¥t quá»¹" Style="{StaticResource MenuButtonStyle}" FontSize="14"/>
                    </StackPanel>
                </StackPanel>

                <!-- ðŸ“„ Quáº£n lÃ½ cÃ´ng ná»£ + menu con -->
                <StackPanel>
                    <Button Content="ðŸ“„ Quáº£n lÃ½ cÃ´ng ná»£"
                            Style="{StaticResource MenuButtonStyle}"
                            Click="ToggleDebtMenu_Click" />

                    <StackPanel x:Name="DebtSubMenu" Visibility="Collapsed" Margin="25 0 0 0">
                        <Button Content="ðŸ“Ghi nháº­n cÃ´ng ná»£ khÃ¡ch chÆ°a thanh toÃ¡n Ä‘á»§" Style="{StaticResource MenuButtonStyle}" FontSize="14"/>
                        <Button Content="ðŸ‘¥Danh sÃ¡ch cÃ´ng ná»£ khÃ¡ch hÃ ng" Style="{StaticResource MenuButtonStyle}" FontSize="14"/>
                        <Button Content="ðŸ”„Cáº­p nháº­t cÃ´ng ná»£" Style="{StaticResource MenuButtonStyle}" FontSize="14"/>
                        <Button Content="â°Nháº¯c ná»£ tá»± Ä‘á»™ng" Style="{StaticResource MenuButtonStyle}" FontSize="14"/>
                        <Button Content="ðŸ“¥Ghi nháº­n cÃ´ng ná»£ khi nháº­p hÃ ng" Style="{StaticResource MenuButtonStyle}" FontSize="14"/>
                        <Button Content="ðŸ­Danh sÃ¡ch cÃ´ng ná»£ nhÃ  cung cáº¥p" Style="{StaticResource MenuButtonStyle}" FontSize="14"/>
                        <Button Content="ðŸ’³Thanh toÃ¡n cÃ´ng ná»£" Style="{StaticResource MenuButtonStyle}" FontSize="14"/>
                        <Button Content="ðŸ””Nháº¯c nhá»Ÿ thanh toÃ¡n" Style="{StaticResource MenuButtonStyle}" FontSize="14"/>
                        <Button Content="ðŸ“ˆBÃ¡o cÃ¡o cÃ´ng ná»£" Style="{StaticResource MenuButtonStyle}" FontSize="14"/>
                    </StackPanel>
                </StackPanel>

                <!-- ðŸ”§ Quáº£n lÃ½ báº£o hÃ nh + menu con -->
                <StackPanel>
                    <Button Content="ðŸ”§ Quáº£n lÃ½ báº£o hÃ nh"
                            Style="{StaticResource MenuButtonStyle}"
                            Click="ToggleWarrantyMenu_Click" />

                    <StackPanel x:Name="WarrantySubMenu" Visibility="Collapsed" Margin="25 0 0 0">
                        <Button Content="ðŸ“¦Xem tá»“n kho báº£o hÃ nh" Style="{StaticResource MenuButtonStyle}" FontSize="14"/>
                        <Button Content="ðŸ“¥Xem danh sÃ¡ch nháº­n báº£o hÃ nh" Style="{StaticResource MenuButtonStyle}" FontSize="14"/>
                        <Button Content="ðŸ“¤Xem danh sÃ¡ch gá»­i báº£o hÃ nh" Style="{StaticResource MenuButtonStyle}" FontSize="14"/>
                        <Button Content="âœ…Xem danh sÃ¡ch tráº£ báº£o hÃ nh" Style="{StaticResource MenuButtonStyle}" FontSize="14"/>
                        <Button Content="ðŸššQuáº£n lÃ½ chuyá»ƒn kho bÃ¡n" Style="{StaticResource MenuButtonStyle}" FontSize="14"/>
                        <Button Content="ðŸ—‘ Quáº£n lÃ½ chuyá»ƒn kho há»§y" Style="{StaticResource MenuButtonStyle}" FontSize="14"/>
                        <Button Content="ðŸ”§Quáº£n lÃ½ chuyá»ƒn kho sá»­ dá»¥ng" Style="{StaticResource MenuButtonStyle}" FontSize="14"/>
                    </StackPanel>
                </StackPanel>

                <!-- ðŸ’¼ Quáº£n lÃ½ tÃ i sáº£n + menu con -->
                <StackPanel>
                    <Button Content="ðŸ’¼ Quáº£n lÃ½ tÃ i sáº£n"
                            Style="{StaticResource MenuButtonStyle}"
                            Click="ToggleAssetMenu_Click" />

                    <StackPanel x:Name="AssetSubMenu" Visibility="Collapsed" Margin="25 0 0 0">
                        <Button Content="ðŸ—‘ï¸Chuyá»ƒn kho há»§y" Style="{StaticResource MenuButtonStyle}" FontSize="14"/>
                        <Button Content="ðŸššChuyá»ƒn kho bÃ¡n" Style="{StaticResource MenuButtonStyle}" FontSize="14"/>
                        <Button Content="ðŸ”§Chuyá»ƒn kho báº£o hÃ nh" Style="{StaticResource MenuButtonStyle}" FontSize="14"/>
                        <Button Content="ðŸ Danh sÃ¡ch kho sá»­ dá»¥ng" Style="{StaticResource MenuButtonStyle}" FontSize="14"/>
                    </StackPanel>
                </StackPanel>

                <!-- ðŸ“Š BÃ¡o cÃ¡o + menu con -->
                <StackPanel>
                    <Button Content="ðŸ“Š BÃ¡o cÃ¡o"
                            Style="{StaticResource MenuButtonStyle}"
                            Click="ToggleReportMenu_Click" />

                    <StackPanel x:Name="ReportSubMenu" Visibility="Collapsed" Margin="25 0 0 0">
                        <Button Content="ðŸ’°Xem bÃ¡o cÃ¡o lá»£i nhuáº­n" Style="{StaticResource MenuButtonStyle}" FontSize="14"/>
                        <Button Content="ðŸ“¥Xem bÃ¡o cÃ¡o thu chi" Style="{StaticResource MenuButtonStyle}" FontSize="14"/>
                        <Button Content="ðŸ‘¥Xem bÃ¡o cÃ¡o cÃ´ng ná»£ khÃ¡ch" Style="{StaticResource MenuButtonStyle}" FontSize="14"/>
                        <Button Content="ðŸ­Xem bÃ¡o cÃ¡o cÃ´ng ná»£ nhÃ  cung cáº¥p" Style="{StaticResource MenuButtonStyle}" FontSize="14"/>
                        <Button Content="ðŸ“¦Xem bÃ¡o cÃ¡o tá»“n kho sáº£n pháº©m" Style="{StaticResource MenuButtonStyle}" FontSize="14"/>
                        <Button Content="ðŸ’¼Xem bÃ¡o cÃ¡o quá»¹" Style="{StaticResource MenuButtonStyle}" FontSize="14"/>
                    </StackPanel>
                </StackPanel>

                <!-- ðŸ“ Quáº£n lÃ½ Ä‘áº·t hÃ ng + menu con -->
                <StackPanel>
                    <Button Content="ðŸ“ Quáº£n lÃ½ Ä‘áº·t hÃ ng"
                            Style="{StaticResource MenuButtonStyle}"
                            Click="ToggleOrderMenu_Click" />

                    <StackPanel x:Name="OrderSubMenu" Visibility="Collapsed" Margin="25 0 0 0">
                        <Button Content="ðŸ†•Táº¡o Ä‘Æ¡n Ä‘áº·t hÃ ng" Style="{StaticResource MenuButtonStyle}" FontSize="14"/>
                        <Button Content="ðŸ“„Xem danh sÃ¡ch Ä‘Æ¡n hÃ ng" Style="{StaticResource MenuButtonStyle}" FontSize="14"/>
                        <Button Content="ðŸ”„Cáº­p nháº­t Ä‘Æ¡n hÃ ng" Style="{StaticResource MenuButtonStyle}" FontSize="14"/>
                        <Button Content="âŒHá»§y Ä‘Æ¡n hÃ ng" Style="{StaticResource MenuButtonStyle}" FontSize="14"/>
                        <Button Content="âœ…XÃ¡c nháº­n Ä‘Æ¡n hÃ ng" Style="{StaticResource MenuButtonStyle}" FontSize="14"/>
                        <Button Content="ðŸ“Theo dÃµi tráº¡ng thÃ¡i Ä‘Æ¡n hÃ ng" Style="{StaticResource MenuButtonStyle}" FontSize="14"/>
                        <Button Content="ðŸ’³Thanh toÃ¡n Ä‘Æ¡n hÃ ng" Style="{StaticResource MenuButtonStyle}" FontSize="14"/>
                        <Button Content="ðŸ“ŠXuáº¥t bÃ¡o cÃ¡o Ä‘Æ¡n hÃ ng" Style="{StaticResource MenuButtonStyle}" FontSize="14"/>
                    </StackPanel>
                </StackPanel>

                <!-- NÃºt Home -->
                <Button Content="ðŸ  Home" Style="{StaticResource MenuButtonStyle}" 
                        Command="{Binding ShowHomeCommand}" />
            </StackPanel>
        </ScrollViewer>

        <!-- âœ… Main Content Area -->
        <Grid Grid.Column="1" Name="MainContentArea">
            <ContentControl Content="{Binding CurrentView}" />
        </Grid>
    </Grid>
</Window>